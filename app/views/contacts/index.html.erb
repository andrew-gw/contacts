<div class="page-header">
  <h1>Contacts</h1>
  <%= link_to new_contact_path, :class => "btn btn-primary" do %>
  <span class="glyphicon glyphicon-plus"></span> Add Contact
  <% end %>
</div>

<!-- Render flash notice if present -->
<% if flash[:notice] -%>
<div class="alert alert-success alert-dismissable">
  <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
  <%= flash[:notice] %>
</div>
<% end %>

<!-- <div class="list-group"> -->
<% @contacts.each do |contact| %>
  <%= link_to contact_path(contact), :class => 'list-group-item' do %>
    <div class="media contact">
      <div class="media-left media-middle">
        <%= contact_avatar(contact, class: 'media-object img-circle', style: 'width:48px;height:48px;', alt:'Photo for contact') %>
      </div>
      <div class="media-body contact">
        <h4 class="media-heading"><%= contact.name %></h4>
        <%= contact.email %><br/>
        <%= contact.phone %><br/>
        <div class="contact-controls">
          <%= link_to edit_contact_path(contact), :class => "btn btn-warning btn-sm" do %>
          <span class="glyphicon glyphicon-edit"></span> Edit
          <% end %>

          <%= link_to contact_path(contact), method: :delete,
          data: { confirm: 'Delete ' + contact.fname + ' ' + contact.lname + '?' }, :class => "btn btn-danger btn-sm" do %>
          <span class="glyphicon glyphicon-trash"></span> Remove
          <% end %>
        </div>
      </div>
    </div>
  <% end %>
<% end %>
